dependencies {
    compile "com.djrapitops:AbstractPluginFramework-api:$abstractPluginFrameworkVersion"
    compile project(":api")
    compile project(path: ":extensions", configuration: 'shadow')
    compile "com.djrapitops:PlanPluginBridge:$planPluginBridgeVersion"
    compile "org.apache.httpcomponents:httpclient:$httpClientVersion"
    compile "org.apache.commons:commons-text:$commonsTextVersion"
    compile "com.googlecode.htmlcompressor:htmlcompressor:$htmlCompressorVersion"
    compile "com.github.ben-manes.caffeine:caffeine:$caffeineVersion"
    compile "com.h2database:h2:$h2Version"
    compile "mysql:mysql-connector-java:$mysqlVersion"
    compile "com.zaxxer:HikariCP:$hikariVersion"
    compile "org.slf4j:slf4j-nop:$slf4jVersion"
    compile "org.slf4j:slf4j-api:$slf4jVersion"
    compile "com.maxmind.geoip2:geoip2:$geoIpVersion"
    compile "com.google.code.gson:gson:$gsonVersion"

    testCompile project(":api")
    testCompile "com.google.code.gson:gson:$gsonVersion"
}

shadowJar {
    configurations = [project.configurations.compile]

    // Exclude these files
    exclude "**/*.svg"
    exclude "**/*.ttf"
    exclude "**/*.woff"
    exclude "**/*.eot"
    exclude "**/*.woff2"
    exclude "**/*.psd"

    exclude "**/module-info.class"
    exclude 'META-INF/versions/' // Causes Sponge to crash

    relocate('org.apache', 'plan.org.apache') {
        exclude 'org/apache/logging/**'
    }
    relocate 'com.maxmind', 'plan.com.maxmind'
    relocate 'com.fasterxml', 'plan.com.fasterxml'
    relocate 'com.zaxxer', 'plan.com.zaxxer'
    relocate 'com.github.benmanes', 'plan.com.github.benmanes'
    relocate 'com.googlecode', 'plan.com.googlecode'
    relocate 'com.google', 'plan.com.google'
    relocate 'org.h2', 'plan.org.h2'
    relocate 'org.bstats', 'plan.org.bstats'
    relocate 'org.slf4j', 'plan.org.slf4j'

    // Exclude test dependencies
    exclude "org/junit/**/*"
    exclude "org/opentest4j/**/*"
    exclude "org/checkerframework/**/*"
    exclude "org/apiguardian/**/*"
    exclude "org/mockito/**/*"
    exclude "org/selenium/**/*"
    exclude "org/jayway/**/*"
}